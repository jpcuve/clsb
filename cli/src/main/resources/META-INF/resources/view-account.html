<div data-ng-controller="accountController">
    ACCOUNT
    <br/>
    {{account}}
    <table>
        <tr>
            <td>Name</td>
            <td>{{account.name}}</td>
        </tr>
        <tr>
            <td>Current</td>
            <td>
                <position position="account.position"></position>
            </td>
        </tr>
        <tr>
            <td>SPL</td>
            <td>
                <position position="account.shortPositionLimit"></position>
            </td>
        </tr>
        <tr>
            <td>Movements</td>
            <td>
                <table>
                    <tr>
                        <th>Time</th>
                        <th>Comment</th>
                        <th>Counter party</th>
                        <th>Amount</th>
                    </tr>
                    <tr data-ng-repeat="movement in movements">
                        <td>{{movement.when}}</td>
                        <td>{{movement.information}}</td>
                        <td data-ng-if="account.name === movement.orig.name">{{movement.dest.name}}</td>
                        <td data-ng-if="account.name === movement.dest.name">{{movement.orig.name}}</td>
                        <td>
                            <div data-ng-repeat="(ccy, amount) in movement.amount">
                                <span>{{ccy}}</span>
                                <span>{{amount}}</span>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>